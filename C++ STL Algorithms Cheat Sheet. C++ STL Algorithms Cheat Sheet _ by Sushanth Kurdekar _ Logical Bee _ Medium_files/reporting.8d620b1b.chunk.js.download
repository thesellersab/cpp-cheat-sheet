(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{"./src/routes/NavigationTimingReporter.tsx":function(e,n,t){"use strict";t.r(n);var r=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),a=t("./src/components/session/useFlag.tsx"),i=t("./src/framework/reporter/performance.tsx"),s=t("./src/log/datapupLogger.ts"),u=t("./src/routes/RoutingContext.tsx"),c=t("./src/store/selectors/session.ts"),l=t("./src/util/performance.ts"),d=function(e){return Math.round(1e3*e)};n.default=function(e){var n=e.to,t=e.from,f=r.useRef(null),m=Object(a.a)("enable_lite_clientele"),p=Object(i.c)({useClientele:m}),g=Object(u.c)(),v=Object(o.f)((function(e){return e.debug.originalSpanCarrier})),h=Object(o.f)((function(e){return e.session.user.id})),w=Object(o.f)((function(e){return e.tracing}),o.d),b=w.originalSpan,j=w.tracer;return r.useEffect((function(){if(j)if(f.current||n.pathname===t.pathname){if(f.current){var e,r,o,a,i=f.current.pathname,u=f.current.time,m=Date.now();f.current=null;var w={to:null!==(e=null===(r=g(n.pathname))||void 0===r?void 0:r.route.name)&&void 0!==e?e:"unknown",from:null!==(o=null===(a=g(i))||void 0===a?void 0:a.route.name)&&void 0!==o?o:"unknown",loggedIn:Object(c.a)(h)},x={tags:w};v&&(x.childOf=b),j.startSpan("client.navigation",x).setBeginMicros(d(u)).setEndMicros(d(m)).finish(),p&&p.reportClientNav(w,new l.a(u,m)),s.a.log("client navigation",{duration:m-u,to:n.pathname,toRouteName:w.to,from:i,fromRouteName:w.from,loggedIn:w.loggedIn})}}else f.current={pathname:t.pathname,time:Date.now()}}),[j,n.pathname,t.pathname]),null}}}]);
//# sourceMappingURL=reporting.8d620b1b.chunk.js.map